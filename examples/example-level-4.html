

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example 1. Create your first Level 4 package &mdash; scikit-package 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../_static/scikit-package-logo-blank.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=f539c95a"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=cca77546"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example 2. Create your first Level 5 public package" href="example-level-5.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/scikit-package-logo-docs.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">GETTING STARTED</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#where-do-i-begin">Where do I begin?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-level-1-2-3.html">(Level 1-3) Reuse code within a file, across files and folders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-level-4.html">(Level 4) Share your code as a locally installable Python package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-level-5.html">(Level 5) Share your code as a publicly installable package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-level-4-to-5.html">Migrate your package from Level 4 to Level 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-level-5-migration.html">Migrate your existing package with <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-manuscript.html">Create a configured LaTeX manuscript folder with <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE GUIDES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-guides/pypi-github.html">Publish on GitHub and to PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-guides/conda-forge.html">Create conda package with conda-forge</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EXAMPLES</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example 1. Create your first Level 4 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-new-empty-project-with-scikit-package">Create a new empty project with <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#copy-files-to-the-new-project-directory">Copy files to the new project directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-package-and-test">Install package and test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-git-to-track-changes">Use Git to track changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-pre-commit-hooks-to-automatically-check-syntax">Set up pre-commit hooks to automatically check syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-github-to-backup-code-online">Use GitHub to backup code online</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-github-to-share-code-with-colleagues">Use GitHub to share code with colleagues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-level-5.html">Example 2. Create your first Level 5 public package</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-level-5-namespace.html">Example 3. Create a package with branded namespace import at Level 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-level-5-migration.html">Example 4. Migrate an existing package to Level 5</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PROGRAMMING GUIDES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../programming-guides/billinge-group-standards.html">Billinge Group standards</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SUPPORT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support/frequently-asked-questions.html">Frequently asked questions (FAQ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">REFERENCE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">scikit-package</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Example 1. Create your first Level 4 package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/scikit-package/scikit-package/blob/main/docs/source/examples/example-level-4.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example-1-create-your-first-level-4-package">
<span id="example-1"></span><h1>Example 1. Create your first Level 4 package<a class="headerlink" href="#example-1-create-your-first-level-4-package" title="Link to this heading"></a></h1>
<p>In this example, we assume <strong>Mr Neutron</strong> previously initiated a project called <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> using <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> Level 3 and developed a shared class called <code class="docutils literal notranslate"><span class="pre">DiffractionObject</span></code>. This <code class="docutils literal notranslate"><span class="pre">DiffractionObject</span></code> is used in code analyzing various diffraction data sourced from x-ray, neutron, and electron instruments. This class is written in a module called <code class="docutils literal notranslate"><span class="pre">diffraction_objects.py</span></code> which is reused in Python scripts in the <code class="docutils literal notranslate"><span class="pre">scattering</span></code> sub-project folder. <strong>Mr Neutron</strong>’s folder structure looks like the following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>somewhere/
    |-- on/
        |-- my/
            |-- computer/
                |-- diffraction-utils/
                    |-- README.md
                    |-- diffraction_objects.py
                    |-- scattering/
                        |-- __init__.py
                        |-- neutron.py
                        |-- xray.py
                        |-- electron.py
</pre></div>
</div>
<p>Since the project is a data analysis project, <strong>Mr Neutron</strong> followed common practice to place this <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> folder near the location of the data. Since <strong>Mr Neutron</strong> wants to create a package that is shared across many different projects, it is recommended to place the package in a common directory where he keeps all his reused system-wide packages. This could be called anything, but following standard practice he called this directory dev (roughly short for code-development-area) that he placed in his home directory. In the example, <strong>Mr Neutron</strong> is working on Windows but using a bash terminal from the “Git for Windows”(<a class="reference external" href="https://git-scm.com/downloads/win">https://git-scm.com/downloads/win</a>) software. This is a recommended setup for Windows users.</p>
<section id="create-a-new-empty-project-with-scikit-package">
<h2>Create a new empty project with <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code><a class="headerlink" href="#create-a-new-empty-project-with-scikit-package" title="Link to this heading"></a></h2>
<p>Using the bash terminal, <strong>Mr Neutron</strong> navigates to his <code class="docutils literal notranslate"><span class="pre">dev</span></code> directory, activates the Conda environment where <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> is installed, and creates an empty <strong>Level 4 system</strong> project by typing these commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/dev
$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>skpkg-env
$<span class="w"> </span>package<span class="w"> </span>create<span class="w"> </span>system
</pre></div>
</div>
<p><strong>Mr Neutron</strong> enters the following values to the questions <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> prompts (no response indicates he hit enter to accept the default value in parentheses):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">1</span>/6<span class="o">]</span><span class="w"> </span>project_name<span class="w"> </span><span class="o">(</span>my-project<span class="o">)</span>:<span class="w"> </span>diffraction-utils
<span class="o">[</span><span class="m">2</span>/6<span class="o">]</span><span class="w"> </span>github_username_or_orgname<span class="w"> </span><span class="o">(</span>billingegroup<span class="o">)</span>:<span class="w"> </span>mrneutron44
<span class="o">[</span><span class="m">3</span>/6<span class="o">]</span><span class="w"> </span>github_repo_name<span class="w"> </span><span class="o">(</span>my-project<span class="o">)</span>:<span class="w"> </span>diffraction-utils
<span class="o">[</span><span class="m">4</span>/6<span class="o">]</span><span class="w"> </span>conda_pypi_package_dist_name<span class="w"> </span><span class="o">(</span>diffraction-utils<span class="o">)</span>:
<span class="o">[</span><span class="m">5</span>/6<span class="o">]</span><span class="w"> </span>package_dir_name<span class="w"> </span><span class="o">(</span>diffraction_utils<span class="o">)</span>:
<span class="o">[</span><span class="m">6</span>/6<span class="o">]</span><span class="w"> </span>contributors<span class="w"> </span><span class="o">(</span>Sangjoon<span class="w"> </span>Lee,<span class="w"> </span>Simon<span class="w"> </span>Billinge<span class="o">)</span>:<span class="w"> </span>Mr<span class="w"> </span>Neutron
</pre></div>
</div>
<p><strong>Mr Neutron</strong> now sees the following empty package created on the hard-drive:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>~/dev/
<span class="w">    </span><span class="p">|</span>--<span class="w"> </span>diffraction-utils/
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>.flake8
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>.github
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>ISSUE_TEMPLATE
<span class="w">                </span><span class="p">|</span>--<span class="w"> </span>bug_feature.md
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>workflows
<span class="w">                </span><span class="p">|</span>--<span class="w"> </span>tests-on-pr.yml
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>.gitignore
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>.pre-commit-config.yaml
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>LICENSE.rst
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>README.md
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>requirements
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>conda.txt
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>pip.txt
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>tests.txt
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>src/
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>diffraction_utils/
<span class="w">                </span><span class="p">|</span>--<span class="w"> </span>__init__.py
<span class="w">                </span><span class="p">|</span>--<span class="w"> </span>functions.py
<span class="w">        </span><span class="p">|</span>--<span class="w"> </span>tests
<span class="w">            </span><span class="p">|</span>--<span class="w"> </span>test_functions.py
</pre></div>
</div>
<p>The created files are described in detail in the <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> in <a class="reference internal" href="../tutorials/tutorial-level-4.html#level-4-tutorial"><span class="std std-ref">(Level 4) Share your code as a locally installable Python package</span></a>.</p>
</section>
<section id="copy-files-to-the-new-project-directory">
<h2>Copy files to the new project directory<a class="headerlink" href="#copy-files-to-the-new-project-directory" title="Link to this heading"></a></h2>
<p>At this point, <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> simply created an empty package with files appropriately named based on <strong>Mr Neutron</strong>’s responses. Next <strong>Mr Neutron</strong> copies his code, the <code class="docutils literal notranslate"><span class="pre">diffraction_objects.py</span></code> file into the <code class="docutils literal notranslate"><span class="pre">diffraction_utils</span></code> folder. He can do this using Windows explorer, but chooses to do it in a terminalby typing the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/dev/diffraction-utils/diffraction_utils
$<span class="w"> </span>cp<span class="w"> </span>somewhere/on/my/computer/diffraction-utils/diffraction_objects.py<span class="w"> </span>.
</pre></div>
</div>
<p><strong>Mr Neutron</strong> made sure to type the small dot (“.”) at the end of the last command.</p>
</section>
<section id="install-package-and-test">
<h2>Install package and test<a class="headerlink" href="#install-package-and-test" title="Link to this heading"></a></h2>
<p>There are still a few quick steps that <strong>Mr Neutron</strong> needs to complete before the code is available everywhere in his computer.</p>
<p>First, <strong>Mr Neutron</strong> needs to specify the package dependencies within the <code class="docutils literal notranslate"><span class="pre">conda.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">pip.txt</span></code> files in the requirements folder. In this example, <strong>Mr Neutron</strong> enters numpy and matplotlib-base in <code class="docutils literal notranslate"><span class="pre">conda.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">numpy</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> in <code class="docutils literal notranslate"><span class="pre">pip.txt</span></code>, one per line. After he has done this the contents of those files can be seen using the bash less command, which prints the contents of a file, as <strong>Mr Neutron</strong> does below,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>requirements
$<span class="w"> </span>less<span class="w"> </span>conda.txt
numpy
matplotlib-base
$<span class="w"> </span>less<span class="w"> </span>pip.txt
numpy
matplotlib
</pre></div>
</div>
<p>In general, <code class="docutils literal notranslate"><span class="pre">conda.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">pip.txt</span></code> will contain the same list of dependencies. They are the dependencies that will be installed when installing from conda and PyPI, respectively. The reason we need separate files is that some packages have a different name on Conda and PyPI, respectively. For example, to install the lightest-weight vesrsion of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, for historical reasons, the Conda package is called <code class="docutils literal notranslate"><span class="pre">matplotlib-base</span></code> while it is <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> on PyPI. Any other such differences in package names across conda-forge and PyPI can also be handled this way.</p>
<p>Second, <strong>Mr Neutron</strong> must build a virtual environment and install his new <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> package in it. <strong>Mr Neutron</strong> decides to create a new conda environment dedicated for his <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> package (he could have chosen to install the package in one of his existing environments). He first deactivates the <code class="docutils literal notranslate"><span class="pre">skpkg-env</span></code> (conda deactivate) as he has finished the work of using <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> to create a new project. He then creates a new conda environment called <code class="docutils literal notranslate"><span class="pre">diff-utils-env</span></code> using Python 3.13, installing the dependencies listed under <code class="docutils literal notranslate"><span class="pre">conda.txt</span></code>, and builds and installs his own <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> package, using the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/dev/diffraction-utils
$<span class="w"> </span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>diff-utils-env<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.13
$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>diff-utils-env
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>--file<span class="w"> </span>requirements/conda.txt
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>.<span class="w"> </span>--no-deps
</pre></div>
</div>
<p>To test the installed package, <strong>Mr Neutron</strong> imports the <code class="docutils literal notranslate"><span class="pre">DiffractionObject</span></code> class from the <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> package in a Python module called <code class="docutils literal notranslate"><span class="pre">neutron.py</span></code>, located in the folder path <code class="docutils literal notranslate"><span class="pre">/data-analysis/neutron-experiment/</span></code>. <strong>Mr Neutron</strong> writes the following line at the top of the <code class="docutils literal notranslate"><span class="pre">neutron.py</span></code> file to import the <code class="docutils literal notranslate"><span class="pre">DiffractionObject</span></code> class,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ~/data-analysis/neutron-experiment/neutron.py</span>
from<span class="w"> </span>diffraction_utils.diffraction_objects<span class="w"> </span>import<span class="w"> </span>DiffractionObject
</pre></div>
</div>
<p>without having to change any of the other code. With the <code class="docutils literal notranslate"><span class="pre">diff-utils-env</span></code> environment activated, <strong>Mr Neutron</strong> can run the code below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd ~/data-analysis/neutron-experiment</span>
$<span class="w"> </span>python<span class="w"> </span>neutron.py
</pre></div>
</div>
<p>We note that, since <strong>Mr Neutron</strong> is the developer and wants to update the code as he is working, he can installs the package in his environment in “editable” mode (recommended) where he replaces the command <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code> with the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>As long as <strong>Mr Neutron</strong> has activated the <code class="docutils literal notranslate"><span class="pre">diff-utils-env</span></code> conda environment, whenever he runs code anywhere on his computer it will run the version of the code it finds on disc at run-time without him having to reinstall the package. This is very convenient for developers, but is not the preferred installation method for users.</p>
</section>
<section id="use-git-to-track-changes">
<h2>Use Git to track changes<a class="headerlink" href="#use-git-to-track-changes" title="Link to this heading"></a></h2>
<p>As the next step, <strong>Mr Neutron</strong> wants to continuously maintain the <code class="docutils literal notranslate"><span class="pre">diffraction-utils</span></code> package. The best way to do this is to use Git. It is beyond the scope of this article to explain Git in detail, but the main concept is that Git maintains a database on the computer with every version of every file in the user’s project, so the user never loses work and can find any earlier version. Every time <strong>Mr Neutron</strong> “commits” the edits to the Git database, it stores the edits.</p>
<p>To set up Git, <strong>Mr Neutron</strong> types the following command once to initiate the Git database for the project folder (including subdirectories):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ~/dev/diffraction-utils</span>
$<span class="w"> </span>git<span class="w"> </span>init
</pre></div>
</div>
<p><strong>Mr Neutron</strong> then creates the first commit through the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>.
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;initial commit of the package files&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> command adds all the files in the current directory (including subdirectories) to the list of files that will be committed to the database next time the user makes a commit. The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> command actually commits those edits and changes to the database with a clear commit message describing the edits.</p>
</section>
<section id="set-up-pre-commit-hooks-to-automatically-check-syntax">
<h2>Set up pre-commit hooks to automatically check syntax<a class="headerlink" href="#set-up-pre-commit-hooks-to-automatically-check-syntax" title="Link to this heading"></a></h2>
<p>Once the local repository is under Git control, <strong>Mr Neutron</strong> wants to ensure that the code is properly formatted <em>before</em> committing to the Git database. This can be done by triggering <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> to run each time a new commit is attempted. This is done with a <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> hook. A hook automatically runs a program, or programs, before making a Git commit, every time <strong>Mr Neutron</strong> runs <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>. <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> uses the <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> package to manage this. To get this set up, <strong>Mr Neutron</strong> (who has already installed the <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> package in his environment with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">pre-commit</span></code>), types this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>precommit<span class="w"> </span>install
</pre></div>
</div>
<p>Now, every time <strong>Mr Neutron</strong> runs git commit -m “&lt;commit message&gt;”, he will see in the terminal the hooks being executed, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;chore: implement local precommit hooks&quot;</span>
black...........................................................Passed
prettier........................................................Passed
docformatter....................................................Passed
</pre></div>
</div>
<p><strong>Mr Neutron</strong> proceeds to add new features and bug-fixes to the diffraction-utils package and committing the changes, but sometimes <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> hooks fail. If this happens, <strong>Mr Neutron</strong> will see that the most recent commit was not written to the Git database, for example by using the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> command. <strong>Mr Neutron</strong> can then fix those errors manually and rerun <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>.</p>
<p>At any time, <strong>Mr Neutron</strong> can use the <code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">run</span> <span class="pre">--all-files</span></code> command to trigger <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> manually while fixing those errors so that he does not have to make a commit to run the checks. As discussed in Section 2, <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> auto-fixes based on the configurations provided in <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> in the project directory. The output from <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> informs <strong>Mr Neutron</strong> which files, and which line in the file, caused the error, helping him fix everything up.</p>
</section>
<section id="use-github-to-backup-code-online">
<h2>Use GitHub to backup code online<a class="headerlink" href="#use-github-to-backup-code-online" title="Link to this heading"></a></h2>
<p>Having successfully made edits to the code and commit them to his local Git database, <strong>Mr Neutron</strong> now wants to back-up his work online. <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> is integrated with GitHub which is a cloud-based platform for uploading and sharing Git projects.</p>
<p><strong>Mr Neutron</strong> first creates a new repository on GitHub in his user space, mrneutron(he could create it in any organization that he owns) and enters diffraction-utils for the repository name. He selects the option to create an empty repository (without an auto- generated <code class="docutils literal notranslate"><span class="pre">README</span></code>, <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>, or <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> file) since these files are already created with <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code>. <strong>Mr Neutron</strong> connects the local to the remote (cloud) repository by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ~/dev/diffraction-utils</span>
$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>https://github.com/mrneutron/diffraction-utils.git
</pre></div>
</div>
<p>The term origin is an alias (name) for the remote repository. <strong>Mr Neutron</strong> then uploads the local repository content to the remote repository with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--set-upstream<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<p><strong>Mr Neutron</strong> can view the content uploaded to the remote GitHub repository. He can also make edits directly on the remote repository and synchronize those changes with the local repository using the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">main</span></code> command.</p>
</section>
<section id="use-github-to-share-code-with-colleagues">
<h2>Use GitHub to share code with colleagues<a class="headerlink" href="#use-github-to-share-code-with-colleagues" title="Link to this heading"></a></h2>
<p><strong>Mr Neutron</strong> now wants to share the code with colleagues. The simplest way to do this is by sharing the public URL of the GitHub repository, which colleagues can use to download the code either from the website directly or through cloning, like shown below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/mrneutron/diffraction-utils.git
</pre></div>
</div>
<p>If for some reason <strong>Mr Neutron</strong> created the repository as a private repository rather than a public one, <strong>Mr Neutron</strong> can still share it with trusted colleagues by adding their GitHub usernames in the <span class="guilabel">Settings</span> page of the GitHub repository. Or, in the spirit of open science, he can make the repository public.</p>
<p>As mentioned, <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> already created a simple <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file, which by default is displayed at the repository landing page on GitHub. The <code class="docutils literal notranslate"><span class="pre">README.md</span></code> contains basic instructions for how the colleague can clone and install the package. <strong>Mr Neutron</strong> can edit the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file to make things even clearer.</p>
<p>This completes the <code class="docutils literal notranslate"><span class="pre">scikit-package</span></code> Level 4 example. In the following example, we show you how to create and maintain professional-grade software for public distribution. Git and GitHub offer much more than just backing up or sharing code, as described so far. In <a class="reference internal" href="example-level-5.html#example-2"><span class="std std-ref">Example 2. Create your first Level 5 public package</span></a>, we explore more advanced features such as using branches, creating pull requests, and running automated workflows.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="example-level-5.html" class="btn btn-neutral float-right" title="Example 2. Create your first Level 5 public package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Trustees of Columbia University in the City of New York.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>